<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <title>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ - ç‹©çŒŸå…è¨±è©¦é¨“ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="accessibility.css">
    <style>
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .test-section h2 {
            margin-top: 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 12px;
        }

        .test-item {
            margin: 16px 0;
            padding: 16px;
            border-left: 4px solid #3498db;
            background: #f8f9fa;
        }

        .test-result {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-left: 12px;
        }

        .test-pass {
            background: #27ae60;
            color: white;
        }

        .test-fail {
            background: #e74c3c;
            color: white;
        }

        .test-warning {
            background: #f39c12;
            color: white;
        }

        .keyboard-test {
            border: 2px dashed #3498db;
            padding: 24px;
            margin: 16px 0;
        }

        .focus-demo {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin: 16px 0;
        }

        .focus-demo button,
        .focus-demo a {
            min-width: 44px;
            min-height: 44px;
            padding: 12px 24px;
        }

        .contrast-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 16px 0;
        }

        .contrast-item {
            padding: 20px;
            border-radius: 4px;
            text-align: center;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }

        .stat-card {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
        }

        .stat-label {
            font-size: 0.875rem;
            color: #666;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—</a>

    <header class="header" role="banner">
        <div class="container">
            <h1>ğŸ” ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</h1>
            <nav role="navigation" aria-label="ãƒ†ã‚¹ãƒˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
                <a href="index.html">â† ã‚¢ãƒ—ãƒªã«æˆ»ã‚‹</a>
            </nav>
        </div>
    </header>

    <main id="main-content" role="main">
        <div class="container">
            <!-- æ¦‚è¦ -->
            <section class="test-section">
                <h2>ãƒ†ã‚¹ãƒˆæ¦‚è¦</h2>
                <p>ã“ã®ãƒšãƒ¼ã‚¸ã¯ã€ç‹©çŒŸå…è¨±è©¦é¨“ã‚¢ãƒ—ãƒªã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="test-total">0</div>
                        <div class="stat-label">ç·ãƒ†ã‚¹ãƒˆæ•°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="test-pass">0</div>
                        <div class="stat-label">åˆæ ¼</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="test-fail">0</div>
                        <div class="stat-label">ä¸åˆæ ¼</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="test-warning">0</div>
                        <div class="stat-label">è­¦å‘Š</div>
                    </div>
                </div>
            </section>

            <!-- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>1. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯è¦–åŒ–</h3>
                    <p>Tabã‚­ãƒ¼ã§ä»¥ä¸‹ã®è¦ç´ ã‚’é †ç•ªã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã§ãã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                    <div class="focus-demo">
                        <button>ãƒœã‚¿ãƒ³1</button>
                        <button>ãƒœã‚¿ãƒ³2</button>
                        <a href="#test">ãƒªãƒ³ã‚¯1</a>
                        <a href="#test">ãƒªãƒ³ã‚¯2</a>
                        <input type="text" placeholder="ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›" aria-label="ãƒ†ã‚¹ãƒˆç”¨ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›">
                        <select aria-label="ãƒ†ã‚¹ãƒˆç”¨é¸æŠ">
                            <option>ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</option>
                            <option>ã‚ªãƒ—ã‚·ãƒ§ãƒ³2</option>
                        </select>
                    </div>
                    <div id="keyboard-test-1"></div>
                </div>

                <div class="test-item">
                    <h3>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼</h3>
                    <ul>
                        <li><strong>Alt + H</strong>: ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹ï¼ˆå‹•ä½œã—ãªã„å ´åˆã‚ã‚Šï¼‰</li>
                        <li><strong>Alt + S</strong>: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­å®šã‚’é–‹ã</li>
                        <li><strong>Escape</strong>: ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹</li>
                    </ul>
                    <button onclick="testShortcuts()">ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’ãƒ†ã‚¹ãƒˆ</button>
                    <div id="keyboard-test-2"></div>
                </div>

                <div class="test-item">
                    <h3>Enter/Spaceã§ã®é¸æŠ</h3>
                    <p>ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã€Enterã¾ãŸã¯Spaceã§æŠ¼ã›ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                    <button onclick="alert('ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã¾ã—ãŸï¼')">Enterã§æŠ¼ã™</button>
                    <button onclick="alert('Spaceã§æŠ¼ã•ã‚Œã¾ã—ãŸï¼')">Spaceã§æŠ¼ã™</button>
                    <div id="keyboard-test-3"></div>
                </div>
            </section>

            <!-- ARIAå±æ€§ãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>2. ARIAå±æ€§ãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯</h3>
                    <ul id="landmark-list"></ul>
                    <button onclick="testLandmarks()">ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’ãƒã‚§ãƒƒã‚¯</button>
                </div>

                <div class="test-item">
                    <h3>ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«</h3>
                    <ul id="form-label-list"></ul>
                    <button onclick="testFormLabels()">ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯</button>
                </div>

                <div class="test-item">
                    <h3>ç”»åƒã®ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆ</h3>
                    <ul id="image-alt-list"></ul>
                    <button onclick="testImageAlt()">ç”»åƒã®altã‚’ãƒã‚§ãƒƒã‚¯</button>
                </div>

                <div class="test-item">
                    <h3>ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³</h3>
                    <button onclick="testLiveRegion()">ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆ</button>
                    <div id="live-region-test"></div>
                </div>
            </section>

            <!-- ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>3. ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã®ä¾‹</h3>
                    <div class="contrast-demo">
                        <div class="contrast-item" style="background: #ffffff; color: #2c3e50;">
                            <strong>é€šå¸¸ãƒ†ã‚­ã‚¹ãƒˆ</strong><br>
                            #2c3e50 on #ffffff<br>
                            12.6:1 âœ…
                        </div>
                        <div class="contrast-item" style="background: #ffffff; color: #0066cc;">
                            <strong>ãƒªãƒ³ã‚¯</strong><br>
                            #0066cc on #ffffff<br>
                            7.9:1 âœ…
                        </div>
                        <div class="contrast-item" style="background: #3498db; color: #ffffff;">
                            <strong>ãƒœã‚¿ãƒ³(Primary)</strong><br>
                            #ffffff on #3498db<br>
                            4.7:1 âœ…
                        </div>
                        <div class="contrast-item" style="background: #e74c3c; color: #ffffff;">
                            <strong>ã‚¨ãƒ©ãƒ¼</strong><br>
                            #ffffff on #e74c3c<br>
                            5.5:1 âœ…
                        </div>
                    </div>
                </div>

                <div class="test-item">
                    <h3>ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰</h3>
                    <p>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­å®šï¼ˆAlt+Sï¼‰ã‹ã‚‰ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’ONã«ã—ã¦ãã ã•ã„ã€‚</p>
                    <button onclick="testHighContrast()">ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ãƒ†ã‚¹ãƒˆ</button>
                    <div id="contrast-test"></div>
                </div>
            </section>

            <!-- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>4. ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºèª¿æ•´</h3>
                    <p>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­å®šï¼ˆAlt+Sï¼‰ã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚</p>
                    <button onclick="testFontSize()">ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’ãƒã‚§ãƒƒã‚¯</button>
                    <div id="font-size-test"></div>
                </div>
            </section>

            <!-- ã‚¿ãƒƒãƒ—é ˜åŸŸãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>5. ã‚¿ãƒƒãƒ—é ˜åŸŸãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>æœ€å°ã‚¿ãƒƒãƒ—é ˜åŸŸï¼ˆ44x44pxï¼‰</h3>
                    <ul id="tap-target-list"></ul>
                    <button onclick="testTapTargets()">ã‚¿ãƒƒãƒ—é ˜åŸŸã‚’ãƒã‚§ãƒƒã‚¯</button>
                </div>
            </section>

            <!-- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ -->
            <section class="test-section">
                <h2>6. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ</h2>

                <div class="test-item">
                    <h3>æ‰‹å‹•ãƒ†ã‚¹ãƒˆé …ç›®</h3>
                    <ul>
                        <li>â–¡ NVDA/JAWSã§è¦‹å‡ºã—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆHï¼‰ãŒæ©Ÿèƒ½ã™ã‚‹</li>
                        <li>â–¡ ãƒœã‚¿ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆBï¼‰ãŒæ©Ÿèƒ½ã™ã‚‹</li>
                        <li>â–¡ ãƒªãƒ³ã‚¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆKï¼‰ãŒæ©Ÿèƒ½ã™ã‚‹</li>
                        <li>â–¡ ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ãŒæ­£ã—ãèª­ã¿ä¸Šã’ã‚‰ã‚Œã‚‹</li>
                        <li>â–¡ ç”»åƒã®ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ä¸Šã’ã‚‰ã‚Œã‚‹</li>
                        <li>â–¡ ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤‰æ›´ãŒé€šçŸ¥ã•ã‚Œã‚‹</li>
                    </ul>
                </div>
            </section>

            <!-- è‡ªå‹•ãƒ†ã‚¹ãƒˆçµæœ -->
            <section class="test-section">
                <h2>7. è‡ªå‹•ãƒ†ã‚¹ãƒˆçµæœ</h2>
                <button onclick="runAllTests()" class="btn btn-primary btn-lg">ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ</button>
                <div id="auto-test-results" style="margin-top: 24px;"></div>
            </section>
        </div>
    </main>

    <footer class="footer" role="contentinfo">
        <div class="container">
            <p>&copy; 2026 ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥ - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</p>
        </div>
    </footer>

    <script src="accessibility.js"></script>
    <script>
        // ãƒ†ã‚¹ãƒˆçµ±è¨ˆ
        let testStats = { total: 0, pass: 0, fail: 0, warning: 0 };

        function updateStats() {
            document.getElementById('test-total').textContent = testStats.total;
            document.getElementById('test-pass').textContent = testStats.pass;
            document.getElementById('test-fail').textContent = testStats.fail;
            document.getElementById('test-warning').textContent = testStats.warning;
        }

        function addTestResult(elementId, pass, message) {
            const el = document.getElementById(elementId);
            if (!el) return;

            testStats.total++;
            if (pass === true) {
                testStats.pass++;
                el.innerHTML = `<span class="test-result test-pass">âœ… åˆæ ¼</span> ${message}`;
            } else if (pass === false) {
                testStats.fail++;
                el.innerHTML = `<span class="test-result test-fail">âŒ ä¸åˆæ ¼</span> ${message}`;
            } else {
                testStats.warning++;
                el.innerHTML = `<span class="test-result test-warning">âš ï¸ è­¦å‘Š</span> ${message}`;
            }
            updateStats();
        }

        // ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ
        function testLandmarks() {
            const landmarks = {
                'banner': document.querySelectorAll('[role="banner"], header').length,
                'navigation': document.querySelectorAll('[role="navigation"], nav').length,
                'main': document.querySelectorAll('[role="main"], main').length,
                'contentinfo': document.querySelectorAll('[role="contentinfo"], footer').length
            };

            const list = document.getElementById('landmark-list');
            list.innerHTML = '';

            for (const [name, count] of Object.entries(landmarks)) {
                const li = document.createElement('li');
                const pass = count > 0;
                li.innerHTML = `${pass ? 'âœ…' : 'âŒ'} ${name}: ${count}å€‹`;
                list.appendChild(li);

                testStats.total++;
                if (pass) testStats.pass++;
                else testStats.fail++;
            }
            updateStats();
        }

        // ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«ãƒ†ã‚¹ãƒˆ
        function testFormLabels() {
            const inputs = document.querySelectorAll('input, select, textarea');
            const list = document.getElementById('form-label-list');
            list.innerHTML = '';

            let withoutLabel = 0;
            inputs.forEach(input => {
                const hasLabel = input.id && document.querySelector(`label[for="${input.id}"]`) ||
                               input.getAttribute('aria-label') ||
                               input.getAttribute('aria-labelledby');
                if (!hasLabel) withoutLabel++;
            });

            const pass = withoutLabel === 0;
            const li = document.createElement('li');
            li.innerHTML = `${pass ? 'âœ…' : 'âŒ'} ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ : ${inputs.length}å€‹ä¸­${inputs.length - withoutLabel}å€‹ã«ãƒ©ãƒ™ãƒ«ã‚ã‚Š`;
            list.appendChild(li);

            testStats.total++;
            if (pass) testStats.pass++;
            else testStats.fail++;
            updateStats();
        }

        // ç”»åƒã®altãƒ†ã‚¹ãƒˆ
        function testImageAlt() {
            const images = document.querySelectorAll('img');
            const list = document.getElementById('image-alt-list');
            list.innerHTML = '';

            let withoutAlt = 0;
            images.forEach(img => {
                if (!img.hasAttribute('alt')) withoutAlt++;
            });

            const pass = withoutAlt === 0;
            const li = document.createElement('li');
            li.innerHTML = `${pass ? 'âœ…' : 'âŒ'} ç”»åƒ: ${images.length}å€‹ä¸­${images.length - withoutAlt}å€‹ã«altã‚ã‚Š`;
            list.appendChild(li);

            testStats.total++;
            if (pass) testStats.pass++;
            else testStats.fail++;
            updateStats();
        }

        // ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
        function testLiveRegion() {
            const notificationArea = document.getElementById('notification-area');
            const alertArea = document.getElementById('alert-area');

            const el = document.getElementById('live-region-test');
            const pass = notificationArea && alertArea;

            testStats.total++;
            if (pass) {
                testStats.pass++;
                el.innerHTML = '<span class="test-result test-pass">âœ… åˆæ ¼</span> ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒå­˜åœ¨ã—ã¾ã™';

                // ãƒ†ã‚¹ãƒˆé€šçŸ¥
                if (accessibilityManager) {
                    accessibilityManager.announce('ãƒ†ã‚¹ãƒˆé€šçŸ¥: ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã—ã¦ã„ã¾ã™');
                }
            } else {
                testStats.fail++;
                el.innerHTML = '<span class="test-result test-fail">âŒ ä¸åˆæ ¼</span> ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
            }
            updateStats();
        }

        // ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ã‚¹ãƒˆ
        function testHighContrast() {
            const hasClass = document.documentElement.classList.contains('high-contrast');
            const el = document.getElementById('contrast-test');

            testStats.total++;
            if (hasClass) {
                testStats.pass++;
                el.innerHTML = '<span class="test-result test-pass">âœ… åˆæ ¼</span> ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã§ã™';
            } else {
                testStats.warning++;
                el.innerHTML = '<span class="test-result test-warning">âš ï¸ è­¦å‘Š</span> ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„';
            }
            updateStats();
        }

        // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ
        function testFontSize() {
            const fontSize = window.getComputedStyle(document.documentElement).fontSize;
            const el = document.getElementById('font-size-test');

            testStats.total++;
            testStats.pass++;
            el.innerHTML = `<span class="test-result test-pass">âœ… ç¢ºèª</span> ç¾åœ¨ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: ${fontSize}`;
            updateStats();
        }

        // ã‚¿ãƒƒãƒ—é ˜åŸŸãƒ†ã‚¹ãƒˆ
        function testTapTargets() {
            const interactive = document.querySelectorAll('button, a, input[type="button"], input[type="submit"]');
            const list = document.getElementById('tap-target-list');
            list.innerHTML = '';

            let tooSmall = 0;
            interactive.forEach(el => {
                const rect = el.getBoundingClientRect();
                if (rect.width < 44 || rect.height < 44) {
                    tooSmall++;
                }
            });

            const pass = tooSmall === 0;
            const li = document.createElement('li');
            li.innerHTML = `${pass ? 'âœ…' : 'âŒ'} ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ : ${interactive.length}å€‹ä¸­${interactive.length - tooSmall}å€‹ãŒ44x44pxä»¥ä¸Š`;
            list.appendChild(li);

            testStats.total++;
            if (pass) testStats.pass++;
            else testStats.fail++;
            updateStats();
        }

        // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
        function testShortcuts() {
            alert('Alt+Sã‚’æŠ¼ã—ã¦ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­å®šã‚’é–‹ã„ã¦ãã ã•ã„ã€‚\né–‹ã‘ãŸã‚‰åˆæ ¼ã§ã™ã€‚');
        }

        // ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
        function runAllTests() {
            testStats = { total: 0, pass: 0, fail: 0, warning: 0 };
            updateStats();

            testLandmarks();
            testFormLabels();
            testImageAlt();
            testLiveRegion();
            testHighContrast();
            testFontSize();
            testTapTargets();

            const results = document.getElementById('auto-test-results');
            const percentage = Math.round((testStats.pass / testStats.total) * 100);
            results.innerHTML = `
                <div style="background: ${percentage >= 80 ? '#27ae60' : '#e74c3c'}; color: white; padding: 24px; border-radius: 8px; text-align: center;">
                    <h3>ãƒ†ã‚¹ãƒˆå®Œäº†</h3>
                    <p style="font-size: 2rem; margin: 16px 0;">${percentage}%</p>
                    <p>${testStats.pass}/${testStats.total}é …ç›®ãŒåˆæ ¼</p>
                </div>
            `;
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸçµ±è¨ˆã‚’è¡¨ç¤º
        updateStats();
    </script>
</body>
</html>
