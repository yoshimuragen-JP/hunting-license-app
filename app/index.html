<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <!-- CSPä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ– -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self';"> -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta name="description" content="ç‹©çŒŸå…è¨±è©¦é¨“ã®å­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å®Œå…¨ç„¡æ–™ã®Webã‚¢ãƒ—ãƒªã€‚æ³•ä»¤ã€çŒŸå…·ã€é³¥ç£è­˜åˆ¥ã€å®ŸæŠ€ã¾ã§ç¶²ç¾…ã€‚æ¨¡æ“¬è©¦é¨“ã§åˆæ ¼ã‚’ç›®æŒ‡ãã†ã€‚">
    <meta name="keywords" content="ç‹©çŒŸå…è¨±,è©¦é¨“å¯¾ç­–,å­¦ç¿’ã‚¢ãƒ—ãƒª,é³¥ç£è­˜åˆ¥,æ¨¡æ“¬è©¦é¨“,çŒŸéŠƒ,ã‚ãª">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ç‹©çŒŸå…è¨±">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- OGP -->
    <meta property="og:title" content="ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥ - çŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ä¸€ç™ºåˆæ ¼ã¸">
    <meta property="og:description" content="ç‹©çŒŸå…è¨±è©¦é¨“ã®å­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å®Œå…¨ç„¡æ–™ã®Webã‚¢ãƒ—ãƒªã€‚æ³•ä»¤ã€çŒŸå…·ã€é³¥ç£è­˜åˆ¥ã€å®ŸæŠ€ã¾ã§ç¶²ç¾…ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com">
    <meta property="og:image" content="https://example.com/ogp.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥">
    <meta name="twitter:description" content="çŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ä¸€ç™ºåˆæ ¼ã¸ - å®Œå…¨ç„¡æ–™ã®å­¦ç¿’ã‚¢ãƒ—ãƒª">
    <meta name="twitter:image" content="https://example.com/ogp.png">

    <title>ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥ | çŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ä¸€ç™ºåˆæ ¼ã¸</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png">

    <!-- Styles -->
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="ui-polish-additions.css">
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="mobile-optimized.css">
    <link rel="stylesheet" href="accessibility.css">
    <link rel="stylesheet" href="ux-enhancements.css">

    <!-- ğŸ¨ ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸UIåˆ·æ–° -->
    <style>
        /* ãƒªã‚»ãƒƒãƒˆæ—¢å­˜ã‚¹ã‚¿ã‚¤ãƒ« */
        * { box-sizing: border-box; }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: #0f0f23 !important;
            color: #ffffff !important;
        }

        /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ - è¶…æ´¾æ‰‹ã« */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%) !important;
            min-height: 90vh !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            position: relative !important;
            overflow: hidden !important;
            padding: 60px 20px !important;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-title {
            font-size: 4rem !important;
            font-weight: 900 !important;
            margin-bottom: 20px !important;
            text-shadow: 3px 3px 10px rgba(0,0,0,0.3) !important;
            line-height: 1.2 !important;
        }

        .hero-subtitle {
            font-size: 2rem !important;
            margin-bottom: 20px !important;
            font-weight: 600 !important;
        }

        .hero-description {
            font-size: 1.3rem !important;
            opacity: 0.95 !important;
            max-width: 700px !important;
            margin: 0 auto 50px !important;
            line-height: 1.8 !important;
        }

        /* ãƒœã‚¿ãƒ³ - è¶…ç›®ç«‹ã¤ */
        .btn {
            padding: 20px 50px !important;
            font-size: 1.3rem !important;
            font-weight: 700 !important;
            border-radius: 50px !important;
            border: none !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            text-decoration: none !important;
            display: inline-block !important;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8787 100%) !important;
            color: white !important;
        }

        .btn-primary:hover {
            transform: translateY(-5px) scale(1.05) !important;
            box-shadow: 0 15px 40px rgba(255,107,107,0.5) !important;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.2) !important;
            color: white !important;
            border: 2px solid white !important;
            backdrop-filter: blur(10px) !important;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.3) !important;
            transform: translateY(-5px) !important;
        }

        .hero-actions {
            display: flex !important;
            gap: 25px !important;
            justify-content: center !important;
            flex-wrap: wrap !important;
            margin-bottom: 60px !important;
        }

        /* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */
        .hero-stats {
            display: flex !important;
            justify-content: center !important;
            gap: 40px !important;
            flex-wrap: wrap !important;
        }

        .stat-item {
            background: rgba(255,255,255,0.15) !important;
            backdrop-filter: blur(10px) !important;
            padding: 30px 40px !important;
            border-radius: 20px !important;
            min-width: 180px !important;
            transition: all 0.3s ease !important;
        }

        .stat-item:hover {
            transform: scale(1.15) rotate(2deg) !important;
            background: rgba(255,255,255,0.25) !important;
        }

        .stat-value {
            display: block !important;
            font-size: 3.5rem !important;
            font-weight: 900 !important;
            color: #fff !important;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3) !important;
        }

        .stat-label {
            display: block !important;
            font-size: 1rem !important;
            margin-top: 10px !important;
            opacity: 0.9 !important;
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .section {
            padding: 100px 20px !important;
            background: linear-gradient(180deg, #0f0f23 0%, #1a1a3e 100%) !important;
        }

        .section-header {
            text-align: center !important;
            margin-bottom: 80px !important;
        }

        .section-title {
            font-size: 3rem !important;
            font-weight: 800 !important;
            margin-bottom: 20px !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
        }

        .section-description {
            font-size: 1.3rem !important;
            opacity: 0.8 !important;
            color: #cccccc !important;
        }

        /* ãƒ¢ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ */
        .mode-grid {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)) !important;
            gap: 40px !important;
            max-width: 1400px !important;
            margin: 0 auto !important;
        }

        .mode-card {
            background: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%) !important;
            border: 2px solid rgba(102,126,234,0.3) !important;
            border-radius: 25px !important;
            padding: 40px !important;
            transition: all 0.4s ease !important;
            cursor: pointer !important;
        }

        .mode-card:hover {
            transform: translateY(-15px) rotate(1deg) !important;
            border-color: rgba(102,126,234,0.8) !important;
            box-shadow: 0 25px 60px rgba(102,126,234,0.4) !important;
            background: linear-gradient(135deg, rgba(102,126,234,0.2) 0%, rgba(118,75,162,0.2) 100%) !important;
        }

        .mode-card-icon {
            font-size: 5rem !important;
            margin-bottom: 25px !important;
            display: block !important;
            animation: bounce 2s ease-in-out infinite !important;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .mode-card-title {
            font-size: 2rem !important;
            font-weight: 700 !important;
            margin-bottom: 15px !important;
            color: #ffffff !important;
        }

        .mode-card-description {
            font-size: 1.1rem !important;
            line-height: 1.7 !important;
            color: #cccccc !important;
            margin-bottom: 25px !important;
        }

        /* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
        .back-to-home-btn {
            background: rgba(255,255,255,0.1) !important;
            color: white !important;
            border: 1px solid rgba(255,255,255,0.3) !important;
            padding: 12px 24px !important;
            border-radius: 10px !important;
            margin-bottom: 30px !important;
            transition: all 0.3s ease !important;
        }

        .back-to-home-btn:hover {
            background: rgba(255,255,255,0.2) !important;
            transform: translateX(-5px) !important;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            background: rgba(15,15,35,0.95) !important;
            backdrop-filter: blur(10px) !important;
            border-bottom: 1px solid rgba(102,126,234,0.3) !important;
            position: sticky !important;
            top: 0 !important;
            z-index: 1000 !important;
        }

        .logo-text {
            font-size: 1.5rem !important;
            font-weight: 700 !important;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem !important; }
            .hero-subtitle { font-size: 1.5rem !important; }
            .section-title { font-size: 2rem !important; }
            .btn { padding: 15px 35px !important; font-size: 1.1rem !important; }
            .mode-grid { grid-template-columns: 1fr !important; }
        }
    </style>

    <!-- Preload -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒ—ãƒãƒ£ -->
    <script>
        window.jsErrors = [];
        window.addEventListener('error', function(e) {
            window.jsErrors.push({
                message: e.message,
                filename: e.filename,
                lineno: e.lineno,
                colno: e.colno
            });
            console.error('JS Error:', e.message, 'at', e.filename, ':', e.lineno);
        });
    </script>

    <!-- UX Enhancements - æœ€åˆã«èª­ã¿è¾¼ã‚€ -->
    <script src="ux-enhancements.js"></script>
</head>
<body>
    <script>
        console.log('ğŸš€ Body script executing...');

        // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å³åº§ã«å‰Šé™¤
        function removeErrors() {
            var errors = document.querySelectorAll('.error-message');
            errors.forEach(function(err) { err.remove(); });
            console.log('âœ… Removed ' + errors.length + ' error messages');
        }

        // æœ€å„ªå…ˆ: loadingè¦ç´ ã‚’å³åº§ã«å‰Šé™¤
        document.addEventListener('DOMContentLoaded', function() {
            var loading = document.getElementById('loading');
            if (loading) loading.remove();
            removeErrors();
        });

        // ã•ã‚‰ã«ã€ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã‚‚ç¢ºå®Ÿã«å‰Šé™¤
        window.addEventListener('load', function() {
            var loading = document.getElementById('loading');
            if (loading) loading.remove();
            removeErrors();
        });

        // 1ç§’å¾Œã«ã‚‚å†ãƒã‚§ãƒƒã‚¯
        setTimeout(function() {
            var loading = document.getElementById('loading');
            if (loading) loading.remove();
            removeErrors();
            console.log('âœ… Cleanup complete');
        }, 1000);
    </script>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <span class="logo-icon" aria-hidden="true">ğŸ¯</span>
                    <span class="logo-text">ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥</span>
                </h1>
                <nav class="main-nav" role="navigation" aria-label="ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
                    <button class="nav-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã" aria-expanded="false" tabindex="1">
                        <span class="nav-toggle-icon"></span>
                    </button>
                    <ul class="nav-list">
                        <li><a href="#home" class="nav-link" tabindex="2">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="#modes" class="nav-link" tabindex="3">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</a></li>
                        <li><a href="#progress" class="nav-link" tabindex="4">é€²æ—</a></li>
                        <li><a href="#about" class="nav-link" tabindex="5">ä½¿ã„æ–¹</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main id="main-content">
        <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section id="home" class="hero" aria-labelledby="hero-title">
            <div class="container">
                <div class="hero-content">
                    <h2 id="hero-title" class="hero-title">
                        <span class="hero-title-main">ç‹©çŒŸå…è¨±è©¦é¨“</span>
                        <span class="hero-title-sub">å®Œå…¨æ”»ç•¥</span>
                    </h2>
                    <p class="hero-subtitle">çŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ä¸€ç™ºåˆæ ¼ã¸</p>
                    <p class="hero-description">
                        æ³•ä»¤ã€çŒŸå…·ã€é³¥ç£è­˜åˆ¥ã€å®ŸæŠ€ã¾ã§å®Œå…¨ç¶²ç¾…ã€‚<br>
                        æ¨¡æ“¬è©¦é¨“ã§å®ŸåŠ›ã‚’æ¸¬å®šã—ã€å¼±ç‚¹ã‚’å…‹æœã—ã‚ˆã†ã€‚
                    </p>
                    <div class="hero-actions">
                        <a href="#modes" class="btn btn-primary btn-lg" tabindex="6">å­¦ç¿’ã‚’å§‹ã‚ã‚‹</a>
                        <a href="#about" class="btn btn-secondary btn-lg" tabindex="7">ä½¿ã„æ–¹ã‚’è¦‹ã‚‹</a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-value">58</span>
                            <span class="stat-label">åéŒ²å•é¡Œæ•°</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">30+</span>
                            <span class="stat-label">è­˜åˆ¥ã™ã¹ãé³¥ç£</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">3å›åˆ†</span>
                            <span class="stat-label">æ¨¡æ“¬è©¦é¨“</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰é¸æŠ -->
        <section id="modes" class="section section-modes" aria-labelledby="modes-title">
            <div class="container">
                <button class="back-to-home-btn" onclick="showScreen('home')" aria-label="ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹">
                    â† ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹
                </button>
                <header class="section-header">
                    <h2 id="modes-title" class="section-title">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</h2>
                    <p class="section-description">ã‚ãªãŸã®å­¦ç¿’ã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ã¦é¸ã¹ã‚‹5ã¤ã®ãƒ¢ãƒ¼ãƒ‰</p>
                </header>

                <div class="mode-grid">
                    <!-- åŸºç¤å­¦ç¿’ -->
                    <article class="mode-card" role="group" aria-labelledby="mode-basics-title" tabindex="11">
                        <div class="mode-card-icon" aria-hidden="true">ğŸ“š</div>
                        <h3 id="mode-basics-title" class="mode-card-title">åŸºç¤å­¦ç¿’</h3>
                        <p class="mode-card-description">
                            æ³•ä»¤ã€çŒŸå…·ã€é³¥ç£ã€ä¿è­·ç®¡ç†ã€å®ŸæŠ€ã®5ã‚«ãƒ†ã‚´ãƒªã‚’ä½“ç³»çš„ã«å­¦ç¿’
                        </p>
                        <ul class="mode-card-features" aria-label="åŸºç¤å­¦ç¿’ã®ç‰¹å¾´">
                            <li>ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«æ•´ç†ã•ã‚ŒãŸçŸ¥è­˜</li>
                            <li>é‡è¦ãƒã‚¤ãƒ³ãƒˆã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ</li>
                            <li>ç†è§£åº¦ãƒã‚§ãƒƒã‚¯ã‚¯ã‚¤ã‚º</li>
                        </ul>
                        <a href="guide.html" class="btn btn-outline" tabindex="12">å§‹ã‚ã‚‹</a>
                    </article>

                    <!-- å•é¡Œæ¼”ç¿’ -->
                    <article class="mode-card" role="group" aria-labelledby="mode-practice-title" tabindex="13">
                        <div class="mode-card-icon" aria-hidden="true">âœï¸</div>
                        <h3 id="mode-practice-title" class="mode-card-title">å•é¡Œæ¼”ç¿’</h3>
                        <p class="mode-card-description">
                            100å•ä»¥ä¸Šã®å³é¸å•é¡Œã§å®Ÿè·µåŠ›ã‚’é¤Šæˆ
                        </p>
                        <ul class="mode-card-features" aria-label="å•é¡Œæ¼”ç¿’ã®ç‰¹å¾´">
                            <li>ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ãƒ©ãƒ³ãƒ€ãƒ å‡ºé¡Œ</li>
                            <li>è©³ç´°ãªè§£èª¬ä»˜ã</li>
                            <li>é–“é•ãˆãŸå•é¡Œã®å¾©ç¿’æ©Ÿèƒ½</li>
                        </ul>
                        <a href="game.html" class="btn btn-outline" tabindex="14">å§‹ã‚ã‚‹</a>
                    </article>

                    <!-- æ¨¡æ“¬è©¦é¨“ -->
                    <article class="mode-card mode-card-featured" role="group" aria-labelledby="mode-mock-title" tabindex="8">
                        <div class="mode-card-badge">ãŠã™ã™ã‚</div>
                        <div class="mode-card-icon" aria-hidden="true">ğŸ¯</div>
                        <h3 id="mode-mock-title" class="mode-card-title">æ¨¡æ“¬è©¦é¨“</h3>
                        <p class="mode-card-description">
                            æœ¬ç•ªã¨åŒã˜å½¢å¼ãƒ»æ™‚é–“åˆ¶é™ã§å®ŸåŠ›ã‚’æ¸¬å®š
                        </p>
                        <ul class="mode-card-features" aria-label="æ¨¡æ“¬è©¦é¨“ã®ç‰¹å¾´">
                            <li>3å›åˆ†ã®å®Œå…¨æ¨¡æ“¬è©¦é¨“</li>
                            <li>æœ¬ç•ªã¨åŒã˜åˆ¶é™æ™‚é–“</li>
                            <li>åˆæ ¼åˆ¤å®šãƒ»å¼±ç‚¹åˆ†æ</li>
                        </ul>
                        <a href="mock-exam.html" class="btn btn-primary" tabindex="9">å§‹ã‚ã‚‹</a>
                    </article>

                    <!-- é³¥ç£å›³é‘‘ -->
                    <article class="mode-card" role="group" aria-labelledby="mode-guide-title" tabindex="15">
                        <div class="mode-card-icon" aria-hidden="true">ğŸ¦Œ</div>
                        <h3 id="mode-guide-title" class="mode-card-title">é³¥ç£å›³é‘‘</h3>
                        <p class="mode-card-description">
                            ç‹©çŒŸé³¥ç£ã¨éç‹©çŒŸé³¥ç£ã®è­˜åˆ¥ã‚¬ã‚¤ãƒ‰
                        </p>
                        <ul class="mode-card-features" aria-label="é³¥ç£å›³é‘‘ã®ç‰¹å¾´">
                            <li>30ç¨®ä»¥ä¸Šã®è©³ç´°å›³é‘‘</li>
                            <li>è­˜åˆ¥ãƒã‚¤ãƒ³ãƒˆè§£èª¬</li>
                            <li>å¤–è¦³æ¯”è¼ƒã‚¯ã‚¤ã‚º</li>
                        </ul>
                        <a href="animals.html" class="btn btn-outline" tabindex="16">å§‹ã‚ã‚‹</a>
                    </article>

                    <!-- å®ŸæŠ€ã‚¬ã‚¤ãƒ‰ -->
                    <article class="mode-card" role="group" aria-labelledby="mode-practical-title" tabindex="17">
                        <div class="mode-card-icon" aria-hidden="true">ğŸ”§</div>
                        <h3 id="mode-practical-title" class="mode-card-title">å®ŸæŠ€ã‚¬ã‚¤ãƒ‰</h3>
                        <p class="mode-card-description">
                            çŒŸå…·ã®å–ã‚Šæ‰±ã„ãƒ»ç‚¹æ¤œæ–¹æ³•ã‚’å‹•ç”»ã¨å›³è§£ã§è§£èª¬
                        </p>
                        <ul class="mode-card-features" aria-label="å®ŸæŠ€ã‚¬ã‚¤ãƒ‰ã®ç‰¹å¾´">
                            <li>éŠƒå™¨ãƒ»ã‚ãªã®å–ã‚Šæ‰±ã„æ‰‹é †</li>
                            <li>å®‰å…¨ç‚¹æ¤œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</li>
                            <li>ã‚ˆãã‚ã‚‹å¤±æ•—ä¾‹ã¨å¯¾ç­–</li>
                        </ul>
                        <a href="practical.html" class="btn btn-outline" tabindex="18">å§‹ã‚ã‚‹</a>
                    </article>

                    <!-- å­¦ç¿’ãƒãƒ¼ãƒˆ -->
                    <article class="mode-card" role="group" aria-labelledby="mode-notes-title" tabindex="19">
                        <div class="mode-card-icon" aria-hidden="true">ğŸ“</div>
                        <h3 id="mode-notes-title" class="mode-card-title">å­¦ç¿’ãƒãƒ¼ãƒˆ</h3>
                        <p class="mode-card-description">
                            è‡ªåˆ†å°‚ç”¨ã®å‚è€ƒæ›¸ã‚’ä½œæˆãƒ»ç®¡ç†
                        </p>
                        <ul class="mode-card-features" aria-label="å­¦ç¿’ãƒãƒ¼ãƒˆã®ç‰¹å¾´">
                            <li>ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ã¾ã¨ã‚ãƒãƒ¼ãƒˆ</li>
                            <li>æš—è¨˜ã‚«ãƒ¼ãƒ‰ä½œæˆæ©Ÿèƒ½</li>
                            <li>è‹¦æ‰‹å•é¡Œãƒªã‚¹ãƒˆç®¡ç†</li>
                        </ul>
                        <a href="notes.html" class="btn btn-outline" tabindex="20">å§‹ã‚ã‚‹</a>
                    </article>
                </div>
            </div>
        </section>

        <!-- é€²æ—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
        <section id="progress" class="section section-progress" aria-labelledby="progress-title">
            <div class="container">
                <button class="back-to-home-btn" onclick="showScreen('home')" aria-label="ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹">
                    â† ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹
                </button>
                <header class="section-header">
                    <h2 id="progress-title" class="section-title">ã‚ãªãŸã®å­¦ç¿’é€²æ—</h2>
                    <p class="section-description">ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦åˆæ ¼ã¾ã§ã®é“ã®ã‚Šã‚’å¯è¦–åŒ–</p>
                </header>

                <div class="progress-grid">
                    <!-- ç·åˆæˆç¸¾ -->
                    <div class="progress-card progress-card-primary">
                        <h3 class="progress-card-title">ç·åˆæ­£ç­”ç‡</h3>
                        <div class="progress-card-value">
                            <span class="progress-value" id="overall-accuracy">0</span>
                            <span class="progress-unit">%</span>
                        </div>
                        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar-fill" id="overall-accuracy-bar" style="width: 0%"></div>
                        </div>
                        <p class="progress-card-note">åˆæ ¼ãƒ©ã‚¤ãƒ³: 70%ä»¥ä¸Š</p>
                    </div>

                    <!-- å­¦ç¿’æ™‚é–“ -->
                    <div class="progress-card">
                        <h3 class="progress-card-title">ç´¯è¨ˆå­¦ç¿’æ™‚é–“</h3>
                        <div class="progress-card-value">
                            <span class="progress-value" id="total-study-time">0</span>
                            <span class="progress-unit">æ™‚é–“</span>
                        </div>
                        <p class="progress-card-note">æ¨å¥¨: 20æ™‚é–“ä»¥ä¸Š</p>
                    </div>

                    <!-- è§£ç­”æ•° -->
                    <div class="progress-card">
                        <h3 class="progress-card-title">ç·è§£ç­”æ•°</h3>
                        <div class="progress-card-value">
                            <span class="progress-value" id="total-answers">0</span>
                            <span class="progress-unit">å•</span>
                        </div>
                        <p class="progress-card-note">ç›®æ¨™: 300å•ä»¥ä¸Š</p>
                    </div>

                    <!-- åˆæ ¼äºˆæ¸¬ -->
                    <div class="progress-card progress-card-accent">
                        <h3 class="progress-card-title">åˆæ ¼å¯èƒ½æ€§</h3>
                        <div class="progress-card-value">
                            <span class="progress-value" id="pass-prediction">--</span>
                            <span class="progress-unit">%</span>
                        </div>
                        <p class="progress-card-status" id="prediction-status">å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’è“„ç©ä¸­</p>
                    </div>
                </div>

                <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥æ­£ç­”ç‡ -->
                <div class="category-progress">
                    <h3 class="category-progress-title">ã‚«ãƒ†ã‚´ãƒªåˆ¥æ­£ç­”ç‡</h3>
                    <div class="category-progress-list" id="category-progress-list">
                        <div class="category-item">
                            <div class="category-header">
                                <span class="category-name">æ³•ä»¤</span>
                                <span class="category-score" id="category-law-score">0%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-label="æ³•ä»¤ã®æ­£ç­”ç‡" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar-fill" id="category-law-bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-header">
                                <span class="category-name">çŒŸå…·</span>
                                <span class="category-score" id="category-tools-score">0%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-label="çŒŸå…·ã®æ­£ç­”ç‡" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar-fill" id="category-tools-bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-header">
                                <span class="category-name">é³¥ç£è­˜åˆ¥</span>
                                <span class="category-score" id="category-animals-score">0%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-label="é³¥ç£è­˜åˆ¥ã®æ­£ç­”ç‡" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar-fill" id="category-animals-bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-header">
                                <span class="category-name">ä¿è­·ç®¡ç†</span>
                                <span class="category-score" id="category-conservation-score">0%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-label="ä¿è­·ç®¡ç†ã®æ­£ç­”ç‡" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar-fill" id="category-conservation-bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-header">
                                <span class="category-name">å®ŸæŠ€</span>
                                <span class="category-score" id="category-practical-score">0%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-label="å®ŸæŠ€ã®æ­£ç­”ç‡" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar-fill" id="category-practical-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å¼±ç‚¹åˆ†æ -->
                <div class="weakness-analysis">
                    <h3 class="weakness-analysis-title">é‡ç‚¹å¼·åŒ–ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <div class="weakness-list" data-weakness-list>
                        <p class="weakness-placeholder">å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒè“„ç©ã•ã‚Œã‚‹ã¨ã€å¼±ç‚¹ã‚«ãƒ†ã‚´ãƒªã‚’è‡ªå‹•ã§åˆ†æã—ã¾ã™</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ä½¿ã„æ–¹ãƒ»ç‰¹å¾´ -->
        <section id="about" class="section section-about" aria-labelledby="about-title">
            <div class="container">
                <button class="back-to-home-btn" onclick="showScreen('home')" aria-label="ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹">
                    â† ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹
                </button>
                <header class="section-header">
                    <h2 id="about-title" class="section-title">ã“ã®ã‚¢ãƒ—ãƒªã®ç‰¹å¾´</h2>
                    <p class="section-description">åŠ¹ç‡çš„ãªå­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ©Ÿèƒ½ãŒæº€è¼‰</p>
                </header>

                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon" aria-hidden="true">ğŸ’¾</div>
                        <h3 class="feature-title">è‡ªå‹•ä¿å­˜</h3>
                        <p class="feature-description">
                            å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«è‡ªå‹•ä¿å­˜ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ä¸è¦ã§ä»Šã™ãå§‹ã‚ã‚‰ã‚Œã¾ã™ã€‚
                        </p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon" aria-hidden="true">ğŸ“Š</div>
                        <h3 class="feature-title">è©³ç´°ãªåˆ†æ</h3>
                        <p class="feature-description">
                            ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®æ­£ç­”ç‡ã€å¼±ç‚¹åˆ†æã€åˆæ ¼äºˆæ¸¬ãªã©ã€ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸå­¦ç¿’è¨ˆç”»ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
                        </p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon" aria-hidden="true">ğŸ“±</div>
                        <h3 class="feature-title">ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ</h3>
                        <p class="feature-description">
                            ã‚¹ãƒãƒ›ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€PCã©ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã‚‚å¿«é©ã«å­¦ç¿’ã§ãã¾ã™ã€‚
                        </p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon" aria-hidden="true">ğŸ†“</div>
                        <h3 class="feature-title">å®Œå…¨ç„¡æ–™</h3>
                        <p class="feature-description">
                            ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’ç„¡æ–™ã§åˆ©ç”¨å¯èƒ½ã€‚åºƒå‘Šãªã—ã€èª²é‡‘ãªã—ã€ç™»éŒ²ä¸è¦ã€‚
                        </p>
                    </div>
                </div>

                <!-- å­¦ç¿’ã®æµã‚Œ -->
                <div class="learning-flow">
                    <h3 class="learning-flow-title">ãŠã™ã™ã‚ã®å­¦ç¿’ã®æµã‚Œ</h3>
                    <ol class="flow-steps">
                        <li class="flow-step">
                            <div class="flow-step-number">1</div>
                            <div class="flow-step-content">
                                <h4 class="flow-step-title">åŸºç¤å­¦ç¿’ã§å…¨ä½“åƒã‚’æŠŠæ¡</h4>
                                <p class="flow-step-description">ã¾ãšã¯5ã¤ã®ã‚«ãƒ†ã‚´ãƒªã®åŸºç¤çŸ¥è­˜ã‚’ç¿’å¾—</p>
                            </div>
                        </li>
                        <li class="flow-step">
                            <div class="flow-step-number">2</div>
                            <div class="flow-step-content">
                                <h4 class="flow-step-title">å•é¡Œæ¼”ç¿’ã§å®šç€</h4>
                                <p class="flow-step-description">ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«ç¹°ã‚Šè¿”ã—æ¼”ç¿’ã—ã¦çŸ¥è­˜ã‚’å®šç€</p>
                            </div>
                        </li>
                        <li class="flow-step">
                            <div class="flow-step-number">3</div>
                            <div class="flow-step-content">
                                <h4 class="flow-step-title">é³¥ç£å›³é‘‘ã§è­˜åˆ¥åŠ›UP</h4>
                                <p class="flow-step-description">ç‹©çŒŸé³¥ç£ã¨éç‹©çŒŸé³¥ç£ã‚’ç¢ºå®Ÿã«è­˜åˆ¥</p>
                            </div>
                        </li>
                        <li class="flow-step">
                            <div class="flow-step-number">4</div>
                            <div class="flow-step-content">
                                <h4 class="flow-step-title">å®ŸæŠ€ã‚¬ã‚¤ãƒ‰ã§å®Ÿè·µåŠ›é¤Šæˆ</h4>
                                <p class="flow-step-description">çŒŸå…·ã®å–ã‚Šæ‰±ã„ãƒ»ç‚¹æ¤œæ–¹æ³•ã‚’ãƒã‚¹ã‚¿ãƒ¼</p>
                            </div>
                        </li>
                        <li class="flow-step">
                            <div class="flow-step-number">5</div>
                            <div class="flow-step-content">
                                <h4 class="flow-step-title">æ¨¡æ“¬è©¦é¨“ã§ç·ä»•ä¸Šã’</h4>
                                <p class="flow-step-description">æœ¬ç•ªã¨åŒã˜å½¢å¼ã§å®ŸåŠ›ã‚’ç¢ºèªã—ã€å¼±ç‚¹ã‚’å…‹æœ</p>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <section class="section section-cta" aria-labelledby="cta-title">
            <div class="container">
                <div class="cta-box">
                    <h3 id="cta-title">ğŸ¯ ä»Šã™ãå­¦ç¿’ã‚’å§‹ã‚ã‚ˆã†</h3>
                    <p>
                        å®Œå…¨ç„¡æ–™ãƒ»ç™»éŒ²ä¸è¦ã§ä»Šã™ãå§‹ã‚ã‚‰ã‚Œã¾ã™<br>
                        ã‚¹ãƒãƒ›ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€PCã©ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã‚‚å¿«é©ã«å­¦ç¿’ã§ãã¾ã™
                    </p>
                    <a href="#modes" class="btn btn-primary btn-lg" tabindex="10">ğŸ“š å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰ã‚’é¸ã¶</a>
                </div>
            </div>
        </section>
    </main>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥</h3>
                    <p class="footer-description">
                        çŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ä¸€ç™ºåˆæ ¼ã‚’ç›®æŒ‡ã™å­¦ç¿’ã‚¢ãƒ—ãƒª
                    </p>
                </div>

                <div class="footer-section">
                    <h4 class="footer-heading">ãƒªãƒ³ã‚¯</h4>
                    <ul class="footer-links">
                        <li><a href="#home" class="footer-link">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="#modes" class="footer-link">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</a></li>
                        <li><a href="#progress" class="footer-link">é€²æ—</a></li>
                        <li><a href="#about" class="footer-link">ä½¿ã„æ–¹</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4 class="footer-heading">æƒ…å ±æº</h4>
                    <ul class="footer-links">
                        <li>
                            <a href="https://www.env.go.jp/nature/choju/index.html" class="footer-link" target="_blank" rel="noopener noreferrer">
                                ç’°å¢ƒçœ é³¥ç£ä¿è­·ç®¡ç†
                            </a>
                        </li>
                        <li>
                            <a href="https://www.pref.hokkaido.lg.jp/" class="footer-link" target="_blank" rel="noopener noreferrer">
                                å„éƒ½é“åºœçœŒ ç‹©çŒŸå…è¨±æƒ…å ±
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="footer-disclaimer">
                    <h4 class="disclaimer-title">å…è²¬äº‹é …</h4>
                    <p class="disclaimer-text">
                        æœ¬ã‚¢ãƒ—ãƒªã¯ç‹©çŒŸå…è¨±è©¦é¨“ã®å­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
                        æ²è¼‰ã•ã‚Œã¦ã„ã‚‹æƒ…å ±ã¯å‚è€ƒæƒ…å ±ã§ã‚ã‚Šã€å®Ÿéš›ã®è©¦é¨“å†…å®¹ã‚„åˆå¦ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                        æœ€æ–°ã®æ³•ä»¤ã‚„è©¦é¨“è¦é …ã¯ã€å—é¨“ã•ã‚Œã‚‹éƒ½é“åºœçœŒã®å…¬å¼æƒ…å ±ã‚’ã”ç¢ºèªãã ã•ã„ã€‚
                    </p>
                </div>
                <p class="footer-copyright">
                    &copy; 2026 ç‹©çŒŸå…è¨±è©¦é¨“ å®Œå…¨æ”»ç•¥. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts - ä¸€æ™‚çš„ã«app.jsã®ã¿ -->
    <!-- <script src="mobile-utils.js"></script> -->
    <!-- <script src="accessibility.js"></script> -->

    <!-- ç·Šæ€¥ä¿®æ­£: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã¨ã‚¨ãƒ©ãƒ¼å‰Šé™¤ -->
    <script>
        console.log('ğŸ”§ Emergency fix: Loading data...');

        // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤
        const errorMsg = document.querySelector('.error-message');
        if (errorMsg) {
            errorMsg.remove();
            console.log('âœ… Error message removed');
        }

        // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
        Promise.all([
            fetch('/hunting-license-data.json').then(r => r.json()),
            fetch('/quiz-database.json').then(r => r.json())
        ]).then(([huntingData, quizData]) => {
            window.huntingData = huntingData;
            window.quizData = quizData;
            console.log('âœ… Data loaded successfully');
        }).catch(err => {
            console.error('âŒ Data loading failed:', err);
        });
    </script>

    <script src="app.js"></script>

    <!-- PWA Service Workerç™»éŒ² - ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ– -->
    <script>
        // æ—¢å­˜ã®Service Workerã‚’å‰Šé™¤
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(registrations => {
                for (let registration of registrations) {
                    registration.unregister();
                    console.log('ğŸ—‘ï¸ Service Workerå‰Šé™¤:', registration.scope);
                }
            });
        }

        // PWAã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;

            // ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆã¯è¡¨ç¤ºã—ãªã„
            if (!window.matchMedia('(display-mode: standalone)').matches) {
                showInstallPrompt();
            }
        });

        function showInstallPrompt() {
            const banner = document.createElement('div');
            banner.className = 'install-prompt';
            banner.innerHTML = `
                <div class="install-prompt-title">ğŸ“² ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</div>
                <div class="install-prompt-text">
                    ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦ã€ã„ã¤ã§ã‚‚å¿«é©ã«å­¦ç¿’ã§ãã¾ã™ã€‚
                </div>
                <div class="install-prompt-actions">
                    <button class="install-btn" id="install-btn">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</button>
                    <button class="dismiss-btn" id="dismiss-install">å¾Œã§</button>
                </div>
            `;
            document.body.appendChild(banner);

            document.getElementById('install-btn').addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;

                    if (outcome === 'accepted') {
                        console.log('âœ… PWAã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰¿èª');
                    }

                    deferredPrompt = null;
                    banner.remove();
                }
            });

            document.getElementById('dismiss-install').addEventListener('click', () => {
                banner.remove();
            });
        }

        // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ¤œçŸ¥
        window.addEventListener('online', () => {
            console.log('âœ… ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«æˆ»ã‚Šã¾ã—ãŸ');
        });

        window.addEventListener('offline', () => {
            console.log('ğŸ“¡ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆå­¦ç¿’ã¯ç¶™ç¶šã§ãã¾ã™ï¼‰');
        });

        // ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ¢ãƒ¼ãƒ‰æ¤œçŸ¥
        if (window.matchMedia('(display-mode: standalone)').matches) {
            console.log('âœ… PWAã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿');
        }

        // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬
        window.addEventListener('load', () => {
            if ('performance' in window && 'getEntriesByType' in performance) {
                const perfData = performance.getEntriesByType('navigation')[0];
                if (perfData) {
                    console.log('ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:');
                    console.log('  - DOMèª­ã¿è¾¼ã¿:', Math.round(perfData.domContentLoadedEventEnd), 'ms');
                    console.log('  - å®Œå…¨èª­ã¿è¾¼ã¿:', Math.round(perfData.loadEventEnd), 'ms');
                }
            }
        });

        // ç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                            img.classList.add('loaded');
                            observer.unobserve(img);
                        }
                    }
                });
            });

            // ç”»åƒãŒè¿½åŠ ã•ã‚ŒãŸã‚‰è‡ªå‹•ã§ç›£è¦–
            const observeImages = () => {
                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            };

            // åˆæœŸåŒ–
            observeImages();

            // DOMå¤‰æ›´æ™‚ã«ã‚‚å¯¾å¿œ
            const mutationObserver = new MutationObserver(observeImages);
            mutationObserver.observe(document.body, { childList: true, subtree: true });
        }
    </script>

    <!-- ç·Šæ€¥ä¿®æ­£: loadingã‚’å¼·åˆ¶çš„ã«éè¡¨ç¤º -->
    <script>
        (function() {
            const loading = document.getElementById('loading');
            if (loading) {
                loading.style.display = 'none';
                loading.remove();
            }
        })();
    </script>

    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—</a>
    <script src="ui-polish.js"></script>
</body>
</html>
