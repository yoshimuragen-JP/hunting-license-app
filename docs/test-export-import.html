<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .section h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 1.3rem;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .stats-display {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-weight: bold;
            color: #666;
        }

        .stat-value {
            color: #333;
            font-weight: 500;
        }

        .help-text {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-top: 10px;
            line-height: 1.5;
        }

        .success-message,
        .error-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: 500;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .test-data-section {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border: 2px solid #ffc107;
        }

        .test-data-section h3 {
            color: #856404;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¦ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>

        <!-- ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º -->
        <div class="section">
            <h2>ğŸ“Š ç¾åœ¨ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿</h2>
            <div class="stats-display" id="currentStats">
                <p>ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>
            </div>
            <button class="btn btn-secondary" onclick="refreshStats()">
                ğŸ”„ ãƒ‡ãƒ¼ã‚¿ã‚’å†èª­ã¿è¾¼ã¿
            </button>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ -->
        <div class="section">
            <h2>ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ</h2>
            <p class="help-text">æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
            <div class="button-group">
                <button class="btn btn-secondary" onclick="createTestData()">
                    âœ¨ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
                </button>
                <button class="btn btn-secondary" onclick="addMoreData()">
                    â• ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
                </button>
            </div>
            <div class="test-data-section">
                <h3>âš ï¸ æ³¨æ„</h3>
                <p>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ãã—ã¾ã™ã€‚æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆã¯å…ˆã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚</p>
            </div>
        </div>

        <!-- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ -->
        <div class="section">
            <h2>ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h2>
            <p class="help-text">ç¾åœ¨ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’JSONå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</p>
            <button class="btn btn-primary" onclick="exportProgress()">
                ğŸ“¥ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Ÿè¡Œ
            </button>
        </div>

        <!-- ã‚¤ãƒ³ãƒãƒ¼ãƒˆ -->
        <div class="section">
            <h2>ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h2>
            <p class="help-text">ä»¥å‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒã—ã¾ã™ã€‚</p>
            <button class="btn btn-secondary" onclick="importProgress()">
                ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
            </button>
        </div>

        <!-- ãƒªã‚»ãƒƒãƒˆ -->
        <div class="section">
            <h2>ğŸ—‘ï¸ ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ</h2>
            <p class="help-text">å…¨ã¦ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚</p>
            <button class="btn btn-danger" onclick="resetAllProgress()">
                âš ï¸ å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ
            </button>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆçµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="messageArea"></div>
    </div>

    <script src="app.js"></script>
    <script>
        // çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º
        function refreshStats() {
            const progress = JSON.parse(localStorage.getItem('huntingProgress'));
            const statsDiv = document.getElementById('currentStats');

            if (!progress) {
                statsDiv.innerHTML = '<p style="color: #e74c3c;">å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>';
                return;
            }

            const accuracy = progress.totalQuestions > 0 ?
                ((progress.correctAnswers / progress.totalQuestions) * 100).toFixed(1) : 0;

            statsDiv.innerHTML = `
                <div class="stat-item">
                    <span class="stat-label">ç·è§£ç­”æ•°</span>
                    <span class="stat-value">${progress.totalQuestions}å•</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æ­£è§£æ•°</span>
                    <span class="stat-value">${progress.correctAnswers}å•</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æ­£ç­”ç‡</span>
                    <span class="stat-value">${accuracy}%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">å­¦ç¿’æ™‚é–“</span>
                    <span class="stat-value">${Math.floor(progress.studyTime / 60)}åˆ†</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æœ€çµ‚å­¦ç¿’æ—¥</span>
                    <span class="stat-value">${progress.lastStudyDate ? new Date(progress.lastStudyDate).toLocaleString() : 'æœªè¨­å®š'}</span>
                </div>
            `;
        }

        // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ
        function createTestData() {
            const testData = {
                totalQuestions: 150,
                correctAnswers: 105,
                studyTime: 7200, // 2æ™‚é–“
                lastStudyDate: new Date().toISOString(),
                categories: {
                    law: { correct: 25, total: 30 },
                    tools: { correct: 20, total: 30 },
                    animals: { correct: 30, total: 40 },
                    management: { correct: 15, total: 25 },
                    practical: { correct: 15, total: 25 }
                },
                quizHistory: [
                    {
                        date: new Date(Date.now() - 86400000 * 3).toISOString(),
                        type: 'practice',
                        score: 65,
                        correctCount: 13,
                        totalQuestions: 20,
                        timeSpent: 600
                    },
                    {
                        date: new Date(Date.now() - 86400000 * 2).toISOString(),
                        type: 'practice',
                        score: 75,
                        correctCount: 15,
                        totalQuestions: 20,
                        timeSpent: 550
                    },
                    {
                        date: new Date(Date.now() - 86400000).toISOString(),
                        type: 'mock_exam',
                        score: 73,
                        correctCount: 22,
                        totalQuestions: 30,
                        timeSpent: 1800
                    }
                ],
                gameStats: {
                    totalGames: 5,
                    highScore: 2500,
                    averageScore: 1800,
                    maxCombo: 15
                },
                examHistory: []
            };

            localStorage.setItem('huntingProgress', JSON.stringify(testData));
            showMessage('âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã—ãŸ', 'success');
            refreshStats();
        }

        // ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
        function addMoreData() {
            const progress = JSON.parse(localStorage.getItem('huntingProgress'));
            if (!progress) {
                showMessage('âŒ ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚å…ˆã«ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¦ãã ã•ã„', 'error');
                return;
            }

            progress.totalQuestions += 20;
            progress.correctAnswers += 14;
            progress.studyTime += 600;
            progress.lastStudyDate = new Date().toISOString();

            localStorage.setItem('huntingProgress', JSON.stringify(progress));
            showMessage('âœ… ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¾ã—ãŸ', 'success');
            refreshStats();
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        function showMessage(message, type) {
            const messageArea = document.getElementById('messageArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.textContent = message;

            messageArea.innerHTML = '';
            messageArea.appendChild(messageDiv);

            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆapp.jsã‹ã‚‰ç›´æ¥å‘¼ã³å‡ºã—ï¼‰
        function exportProgress() {
            if (window.huntingLicenseApp && window.huntingLicenseApp.exportProgress) {
                window.huntingLicenseApp.exportProgress();
            } else {
                showMessage('âŒ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
            }
        }

        // ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆapp.jsã‹ã‚‰ç›´æ¥å‘¼ã³å‡ºã—ï¼‰
        function importProgress() {
            if (window.huntingLicenseApp && window.huntingLicenseApp.importProgress) {
                window.huntingLicenseApp.importProgress();
            } else {
                showMessage('âŒ ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
            }
        }

        // ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ï¼ˆapp.jsã‹ã‚‰ç›´æ¥å‘¼ã³å‡ºã—ï¼‰
        function resetAllProgress() {
            if (window.huntingLicenseApp && window.huntingLicenseApp.resetAllProgress) {
                window.huntingLicenseApp.resetAllProgress();
            } else {
                showMessage('âŒ ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«çµ±è¨ˆã‚’è¡¨ç¤º
        window.addEventListener('DOMContentLoaded', () => {
            refreshStats();
            console.log('âœ… ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†');
            console.log('huntingLicenseApp:', window.huntingLicenseApp);
        });
    </script>
</body>
</html>
